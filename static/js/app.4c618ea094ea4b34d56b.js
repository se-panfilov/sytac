webpackJsonp([2,0],{0:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var n=r(107),a=i(n),s=r(97),o=i(s);new a.default({el:"#app",template:"<App/>",components:{App:o.default}})},48:function(e,t,r){"use strict";var i=void 0;!function(){function t(e){if(!e)throw new Error("Callback not defined");setTimeout(function(){2===Math.floor(20*Math.random())?e("Fetch data error"):e(null,r)},1e3)}var r=[{id:1,type:"car",brand:"Bugatti Veyron",colors:["red","black","pink"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/c/c9/Bugatti_Veyron_16.4_%E2%80%93_Frontansicht_%281%29%2C_5._April_2012%2C_D%C3%BCsseldorf.jpg/520px-Bugatti_Veyron_16.4_%E2%80%93_Frontansicht_%281%29%2C_5._April_2012%2C_D%C3%BCsseldorf.jpg"},{id:2,type:"airplane",brand:"Boeing 787 Dreamliner",colors:["red","white","black","green"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/15/All_Nippon_Airways_Boeing_787-8_Dreamliner_JA801A_OKJ_in_flight.jpg/600px-All_Nippon_Airways_Boeing_787-8_Dreamliner_JA801A_OKJ_in_flight.jpg"},{id:3,type:"train",brand:"USRA 0-6-6",colors:["yellow","white","black"],img:"https://upload.wikimedia.org/wikipedia/en/thumb/a/a1/UP_4466_Neil916.JPG/600px-UP_4466_Neil916.JPG"},{id:4,type:"airplane",brand:"Canadair North Star",colors:["red","blue","yellow","green","pomegranate"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1f/BOAC_C-4_Argonaut_Heathrow_1954.jpg/600px-BOAC_C-4_Argonaut_Heathrow_1954.jpg"},{id:5,type:"airplane",brand:"Airbus A400M Atlas",colors:["red","white"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1a/A400M-1969.jpg/600px-A400M-1969.jpg"},{id:6,type:"airplane",brand:"Bloch MB.131",colors:["yellow","blue","brown"],img:"https://upload.wikimedia.org/wikipedia/commons/e/e5/Bloch_MB_131_San_Diego_Air_%26_Space_Museum_3.jpg"},{id:7,type:"train",brand:"Prairie 2-6-2",colors:["red","white","grey"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/d/d2/CFR_Steam_locomotive.jpg/600px-CFR_Steam_locomotive.jpg"},{id:8,type:"train",brand:"EMD GP40",colors:["black","grey","white","azure"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/EMD_GP40_B%26M_339_Wells_Maine.jpg/600px-EMD_GP40_B%26M_339_Wells_Maine.jpg"},{id:9,type:"train",brand:"Amer 4-4-0",colors:["red","black","grey","wheat","orange","azure"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/1c/440woodcut.jpg/600px-440woodcut.jpg"},{id:10,type:"car",brand:"Ferrari F40",colors:["red","yellow"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/5/52/F40ferarri20090509.jpg/560px-F40ferarri20090509.jpg"},{id:11,type:"car",brand:"Lamborghini HuracÃ¡n",colors:["black","white"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/e/e5/2014-03-04_Geneva_Motor_Show_1379.JPG/440px-2014-03-04_Geneva_Motor_Show_1379.JPG"},{id:12,type:"car",brand:"Porsche Carrera GT",colors:["green","yellow"],img:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/Porsche_Carrera_GT_-_Goodwood_Breakfast_Club_%28July_2008%29.jpg/440px-Porsche_Carrera_GT_-_Goodwood_Breakfast_Club_%28July_2008%29.jpg"}];i={fetchData:t},e.exports=i}()},49:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(55),a=i(n);r(90);var s=r(100),o=i(s),l=r(99),c=i(l),d=r(98),u=i(d),p=r(48),f=i(p);t.default={name:"app",data:function(){return{selected:{},vehicleData:[],message:null}},mounted:function(){this.loadData()},methods:{onChanged:function(e){this.selected=e},loadData:function(){return this.getSourceData().then(this.onDataSuccess,this.onDataError)},getSourceData:function(){return this.message=this.getMessage(),new a.default(function(e,t){f.default.fetchData(function(r,i){return r?t(r):e(i)})})},getMessage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Fetching data... "+e},onDataError:function(e){var t=this;console.error(e);var r=3;this.message=this.getMessage("Failed. Retry in "+r+" seconds"),setTimeout(function(){return t.loadData()},1e3*r)},onDataSuccess:function(e){var t=this;this.vehicleData=e,this.message=this.getMessage("Success!"),setTimeout(function(){t.message=null},3e3)}},components:{FiltersList:c.default,MainHeader:o.default,DetailsView:u.default}}},50:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"DetailsView",data:function(){return{}},props:{selected:{type:Object,default:{}}},methods:{}}},51:function(e,t,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var n=r(56),a=i(n),s=r(57),o=i(s),l=r(101),c=i(l);t.default={name:"FiltersList",data:function(){return{filter:{type:null,brand:null,color:null}}},props:{source:{type:Array,required:!0}},methods:{getUniq:function(e){if(!e)throw new Error("getUniq: array is mandatory");return[].concat((0,o.default)(new a.default(e)))},onSelect:function(e,t){this.filter[t]=e.target.value,this.$emit("changed",this.filter)},filterBy:function(e,t,r){if(!e||!t||!r)throw new Error("filterBy: params should exist");return e.filter(function(e){return e[r]===t})},filterByColors:function(e,t){if(!e||!t)throw new Error("filterByColors: params should exist");return e.filter(function(e){return e.colors.indexOf(t)>-1})},getFilteredArr:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"filterBy";if(!e||!t)throw new Error("getFilteredArr: params should exist");return this.filter[t]?this[r](e,this.filter[t],t):e}},computed:{types:function(){var e=this.getUniq(this.filteredTypes.map(function(e){return e.type}));return[""].concat(e)},brands:function(){var e=this.getUniq(this.filteredBrands.map(function(e){return e.brand}));return[""].concat(e)},colors:function(){var e=this.filteredColors.map(function(e){return e.colors}),t=[].concat.apply([],e),r=this.getUniq(t);return[""].concat(r)},filteredTypes:function(){var e=this.getFilteredArr(this.source,"color","filterByColors");return this.getFilteredArr(e,"brand")},filteredBrands:function(){var e=this.getFilteredArr(this.source,"color","filterByColors");return this.getFilteredArr(e,"type")},filteredColors:function(){var e=this.getFilteredArr(this.source,"type","filterBy");return this.getFilteredArr(e,"brand","filterBy")}},components:{SelectBox:c.default}}},52:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"MainHeader",data:function(){return{}},props:{message:{type:String}}}},53:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"SelectBox",data:function(){return{model:null}},props:{label:{type:String},name:{label:String},source:{type:Array,required:!0}},methods:{onSelect:function(e){this.$emit("item-selected",e)},onReset:function(){this.model=null}}}},90:function(e,t){},91:function(e,t){},92:function(e,t){},93:function(e,t){},94:function(e,t){},95:function(e,t){},96:function(e,t){},97:function(e,t,r){var i,n;r(94),r(93),i=r(49);var a=r(104);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,n._scopeId="data-v-1f0afde0",e.exports=i},98:function(e,t,r){var i,n;r(95),i=r(50);var a=r(105);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,n._scopeId="data-v-3a0cb7f0",e.exports=i},99:function(e,t,r){var i,n;r(92),i=r(51);var a=r(103);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,n._scopeId="data-v-19d9a3e8",e.exports=i},100:function(e,t,r){var i,n;r(91),i=r(52);var a=r(102);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,n._scopeId="data-v-13b87519",e.exports=i},101:function(e,t,r){var i,n;r(96),i=r(53);var a=r(106);n=i=i||{},"object"!=typeof i.default&&"function"!=typeof i.default||(n=i=i.default),"function"==typeof n&&(n=n.options),n.render=a.render,n.staticRenderFns=a.staticRenderFns,n._scopeId="data-v-dfbf659c",e.exports=i},102:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav has-shadow main-header"},[r("div",{staticClass:"container main-header__container"},[e._m(0),e._v(" "),r("div",{staticClass:"nav-right"},[r("span",{staticClass:"nav-item",domProps:{textContent:e._s(e.message)}})])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"nav-left main-header__brand"},[r("span",{staticClass:"nav-item is-brand"},[e._v("Trafficeister")])])}]}},103:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"section filter-list"},[r("div",{staticClass:"container filter-list__elem"},[r("select-box",{staticClass:"filter-list__select-box",attrs:{source:e.types,name:"types",label:"Types"},on:{"item-selected":function(t){e.onSelect(t,"type")}}}),e._v(" "),r("div",{staticClass:"filter-list__items-count"},[r("span",{staticClass:"filter-list__items-count-text",domProps:{textContent:e._s("total:"+(e.types.length-1))}})])],1),e._v(" "),r("div",{staticClass:"container filter-list__elem"},[r("select-box",{staticClass:"filter-list__select-box",attrs:{source:e.brands,name:"brands",label:"Brands"},on:{"item-selected":function(t){e.onSelect(t,"brand")}}}),e._v(" "),r("div",{staticClass:"filter-list__items-count"},[r("span",{staticClass:"filter-list__items-count-text",domProps:{textContent:e._s("total:"+(e.brands.length-1))}})])],1),e._v(" "),r("div",{staticClass:"container filter-list__elem"},[r("select-box",{staticClass:"filter-list__select-box",attrs:{source:e.colors,name:"colors",label:"Colors"},on:{"item-selected":function(t){e.onSelect(t,"color")}}}),e._v(" "),r("div",{staticClass:"filter-list__items-count"},[r("span",{staticClass:"filter-list__items-count-text",domProps:{textContent:e._s("total:"+(e.colors.length-1))}})])],1)])},staticRenderFns:[]}},104:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("main-header",{staticClass:"header",attrs:{message:e.message}}),e._v(" "),r("div",{staticClass:"container"},[r("div",{staticClass:"columns"},[r("section",{staticClass:"column is-one-third"},[r("transition",{attrs:{name:"in-out-translate-fade",mode:"out-in",appear:""}},[r("filters-list",{staticClass:"box",attrs:{source:e.vehicleData},on:{changed:e.onChanged}})],1)],1),e._v(" "),r("section",{staticClass:"column"},[r("details-view",{attrs:{selected:e.selected}})],1)])])],1)},staticRenderFns:[]}},105:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"content box details"},[r("section",{staticClass:"hero has-text-centered details__elem"},[r("div",{staticClass:"subtitle details__item -type",domProps:{textContent:e._s(e.selected.type)}}),e._v(" "),r("div",{staticClass:"title details__item -brand",domProps:{textContent:e._s(e.selected.brand)}}),e._v(" "),r("div",{staticClass:"subtitle details__item -color"},[r("span",{directives:[{name:"show",rawName:"v-show",value:e.selected.color,expression:"selected.color"}],staticClass:"color-preview",style:"background-color: "+e.selected.color}),e._v(" "),r("span",{staticClass:"color-text-preview",domProps:{textContent:e._s(e.selected.color)}})])])])},staticRenderFns:[]}},106:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"control select-box"},[r("label",{staticClass:"label select-box__label",attrs:{for:e.name},domProps:{textContent:e._s(e.label)}}),e._v(" "),r("div",{staticClass:"control has-addons select-box__ctrl-group"},[r("div",{staticClass:"select is-expanded select-box__select-container"},[r("select",{directives:[{name:"model",rawName:"v-model",value:e.model,expression:"model"}],staticClass:"select-box__select",attrs:{name:e.name,id:e.name},on:{change:[function(t){e.model=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t})[0]},e.onSelect]}},e._l(e.source,function(t){return r("option",{staticClass:"select-box__option",domProps:{value:t,textContent:e._s(t)}})}))]),e._v(" "),r("button",{staticClass:"button select-box__button",class:{"is-primary":!!e.model},attrs:{type:"button",id:e.name+"-btn"},on:{click:e.onReset}},[e._v("x")])])])},staticRenderFns:[]}}});
//# sourceMappingURL=app.4c618ea094ea4b34d56b.js.map